!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},this.defaults(),s),this.render()};e.VERSION="2.2.0",e.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"secondary",size:"normal",style:"",width:null,height:null},e.prototype.defaults=function(){return{on:this.$element.attr("data-on")||e.DEFAULTS.on,off:this.$element.attr("data-off")||e.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||e.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||e.DEFAULTS.offstyle,size:this.$element.attr("data-size")||e.DEFAULTS.size,style:this.$element.attr("data-style")||e.DEFAULTS.style,width:this.$element.attr("data-width")||e.DEFAULTS.width,height:this.$element.attr("data-height")||e.DEFAULTS.height}},e.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var e="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",s=t('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+e),o=t('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+e+" active"),i=t('<span class="toggle-handle btn btn-light">').addClass(e),n=t('<div class="toggle-group">').append(s,o,i),l=t('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(e).addClass(this.options.style);this.$element.wrap(l),t.extend(this,{$toggle:this.$element.parent(),$toggleOn:s,$toggleOff:o,$toggleGroup:n}),this.$toggle.append(n);var h=this.options.width||Math.max(s.outerWidth(),o.outerWidth())+i.outerWidth()/2,a=this.options.height||Math.max(s.outerHeight(),o.outerHeight());s.addClass("toggle-on"),o.addClass("toggle-off"),this.$toggle.css({width:h,height:a}),this.options.height&&(s.css("line-height",s.height()+"px"),o.css("line-height",o.height()+"px")),this.update(!0),this.trigger(!0)},e.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},e.prototype.on=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),t||this.trigger()},e.prototype.off=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),t||this.trigger()},e.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},e.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},e.prototype.update=function(t){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(t):this.off(t)},e.prototype.trigger=function(e){this.$element.off("change.bs.toggle"),e||this.$element.change(),this.$element.on("change.bs.toggle",t.proxy(function(){this.update()},this))},e.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var s=t.fn.bootstrapToggle;t.fn.bootstrapToggle=function(s){return this.each(function(){var o=t(this),i=o.data("bs.toggle"),n="object"==typeof s&&s;i||o.data("bs.toggle",i=new e(this,n)),"string"==typeof s&&i[s]&&i[s]()})},t.fn.bootstrapToggle.Constructor=e,t.fn.toggle.noConflict=function(){return t.fn.bootstrapToggle=s,this},t(function(){t("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()}),t(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(e){t(this).find("input[type=checkbox]").bootstrapToggle("toggle"),e.preventDefault()})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcDQtdG9nZ2xlLmpzIl0sIm5hbWVzIjpbIiQiLCJUb2dnbGUiLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCIkZWxlbWVudCIsImV4dGVuZCIsImRlZmF1bHRzIiwicmVuZGVyIiwiVkVSU0lPTiIsIkRFRkFVTFRTIiwib24iLCJvZmYiLCJvbnN0eWxlIiwib2Zmc3R5bGUiLCJzaXplIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsInByb3RvdHlwZSIsImF0dHIiLCJfb25zdHlsZSIsIl9vZmZzdHlsZSIsIiR0b2dnbGVPbiIsImh0bWwiLCJhZGRDbGFzcyIsIiR0b2dnbGVPZmYiLCIkdG9nZ2xlSGFuZGxlIiwiJHRvZ2dsZUdyb3VwIiwiYXBwZW5kIiwiJHRvZ2dsZSIsInByb3AiLCJ3cmFwIiwicGFyZW50IiwiTWF0aCIsIm1heCIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsImNzcyIsInVwZGF0ZSIsInRyaWdnZXIiLCJ0b2dnbGUiLCJzaWxlbnQiLCJyZW1vdmVDbGFzcyIsImVuYWJsZSIsInJlbW92ZUF0dHIiLCJkaXNhYmxlIiwiY2hhbmdlIiwicHJveHkiLCJkZXN0cm95IiwicmVtb3ZlIiwicmVtb3ZlRGF0YSIsInVud3JhcCIsIm9sZCIsImZuIiwiYm9vdHN0cmFwVG9nZ2xlIiwib3B0aW9uIiwiZWFjaCIsIiR0aGlzIiwiZGF0YSIsIkNvbnN0cnVjdG9yIiwibm9Db25mbGljdCIsImRvY3VtZW50IiwiZSIsImZpbmQiLCJwcmV2ZW50RGVmYXVsdCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBU0UsU0FBVUEsR0FDVixhQUtELElBQUlDLEVBQVMsU0FBVUMsRUFBU0MsR0FDL0JDLEtBQUtDLFNBQVlMLEVBQUVFLEdBQ25CRSxLQUFLRCxRQUFZSCxFQUFFTSxVQUFXRixLQUFLRyxXQUFZSixHQUMvQ0MsS0FBS0ksVUFHTlAsRUFBT1EsUUFBVyxRQUVsQlIsRUFBT1MsVUFDTkMsR0FBSSxLQUNKQyxJQUFLLE1BQ0xDLFFB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SUFBSUMsRUFBVTFELEVBQUVJLE1BQ1p1RCxFQUFVRCxFQUFNQyxLQUFLLGFBQ3JCeEQsRUFBMkIsaUJBQVZxRCxHQUFzQkEsRUFFdENHLEdBQU1ELEVBQU1DLEtBQUssWUFBY0EsRUFBTyxJQUFJMUQsRUFBT0csS0FBTUQsSUFDdkMsaUJBQVZxRCxHQUFzQkcsRUFBS0gsSUFBU0csRUFBS0gsUUFPdER4RCxFQUFFc0QsR0FBR0MsZ0JBQWdCSyxZQUFjM0QsRUFLbkNELEVBQUVzRCxHQUFHYixPQUFPb0IsV0FBYSxXQUV4QixPQURBN0QsRUFBRXNELEdBQUdDLGdCQUFrQkYsRUFDaEJqRCxNQU1SSixFQUFFLFdBQ0RBLEVBQUUsNkNBQTZDdUQsb0JBR2hEdkQsRUFBRThELFVBQVVuRCxHQUFHLGtCQUFtQiwyQkFBNEIsU0FBU29ELEdBQ3REL0QsRUFBRUksTUFBTTRELEtBQUssd0JBQ25CVCxnQkFBZ0IsVUFDMUJRLEVBQUVFLG1CQXZLRixDQTBLQUMiLCJmaWxlIjoiYm9vdHN0cmFwNC10b2dnbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwIFRvZ2dsZTogYm9vdHN0cmFwLXRvZ2dsZS5qcyB2Mi4yLjBcbiAqIGh0dHA6Ly93d3cuYm9vdHN0cmFwdG9nZ2xlLmNvbVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxNC0yMDIwIE1pbiBIdXIsIFRoZSBOZXcgWW9yayBUaW1lcyBDb21wYW55ICYgSGFzc2FkZWUgUGltc3V3YW4sIFRyZWVidWlsZCBDb21wYW55IExpbWl0ZWRcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICtmdW5jdGlvbiAoJCkge1xuIFx0J3VzZSBzdHJpY3QnO1xuXG5cdC8vIFRPR0dMRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXHR2YXIgVG9nZ2xlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0XHR0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcblx0XHR0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRzKCksIG9wdGlvbnMpXG5cdFx0dGhpcy5yZW5kZXIoKVxuXHR9XG5cblx0VG9nZ2xlLlZFUlNJT04gID0gJzIuMi4wJ1xuXG5cdFRvZ2dsZS5ERUZBVUxUUyA9IHtcblx0XHRvbjogJ09uJyxcblx0XHRvZmY6ICdPZmYnLFxuXHRcdG9uc3R5bGU6ICdwcmltYXJ5Jyxcblx0XHRvZmZzdHlsZTogJ3NlY29uZGFyeScsXG5cdFx0c2l6ZTogJ25vcm1hbCcsXG5cdFx0c3R5bGU6ICcnLFxuXHRcdHdpZHRoOiBudWxsLFxuXHRcdGhlaWdodDogbnVsbFxuXHR9XG5cblx0VG9nZ2xlLnByb3RvdHlwZS5kZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRvbjogdGhpcy4kZWxlbWVudC5hdHRyKCdkYXRhLW9uJykgfHwgVG9nZ2xlLkRFRkFVTFRTLm9uLFxuXHRcdFx0b2ZmOiB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtb2ZmJykgfHwgVG9nZ2xlLkRFRkFVTFRTLm9mZixcblx0XHRcdG9uc3R5bGU6IHRoaXMuJGVsZW1lbnQuYXR0cignZGF0YS1vbnN0eWxlJykgfHwgVG9nZ2xlLkRFRkFVTFRTLm9uc3R5bGUsXG5cdFx0XHRvZmZzdHlsZTogdGhpcy4kZWxlbWVudC5hdHRyKCdkYXRhLW9mZnN0eWxlJykgfHwgVG9nZ2xlLkRFRkFVTFRTLm9mZnN0eWxlLFxuXHRcdFx0c2l6ZTogdGhpcy4kZWxlbWVudC5hdHRyKCdkYXRhLXNpemUnKSB8fCBUb2dnbGUuREVGQVVMVFMuc2l6ZSxcblx0XHRcdHN0eWxlOiB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtc3R5bGUnKSB8fCBUb2dnbGUuREVGQVVMVFMuc3R5bGUsXG5cdFx0XHR3aWR0aDogdGhpcy4kZWxlbWVudC5hdHRyKCdkYXRhLXdpZHRoJykgfHwgVG9nZ2xlLkRFRkFVTFRTLndpZHRoLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtaGVpZ2h0JykgfHwgVG9nZ2xlLkRFRkFVTFRTLmhlaWdodFxuXHRcdH1cblx0fVxuXG5cdFRvZ2dsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX29uc3R5bGUgPSAnYnRuLScgKyB0aGlzLm9wdGlvbnMub25zdHlsZVxuXHRcdHRoaXMuX29mZnN0eWxlID0gJ2J0bi0nICsgdGhpcy5vcHRpb25zLm9mZnN0eWxlXG5cdFx0dmFyIHNpemUgPSB0aGlzLm9wdGlvbnMuc2l6ZSA9PT0gJ2xhcmdlJyA/ICdidG4tbGcnXG5cdFx0XHQ6IHRoaXMub3B0aW9ucy5zaXplID09PSAnc21hbGwnID8gJ2J0bi1zbSdcblx0XHRcdDogdGhpcy5vcHRpb25zLnNpemUgPT09ICdtaW5pJyA/ICdidG4teHMnXG5cdFx0XHQ6ICcnXG5cdFx0dmFyICR0b2dnbGVPbiA9ICQoJzxsYWJlbCBjbGFzcz1cImJ0blwiPicpLmh0bWwodGhpcy5vcHRpb25zLm9uKVxuXHRcdFx0LmFkZENsYXNzKHRoaXMuX29uc3R5bGUgKyAnICcgKyBzaXplKVxuXHRcdHZhciAkdG9nZ2xlT2ZmID0gJCgnPGxhYmVsIGNsYXNzPVwiYnRuXCI+JykuaHRtbCh0aGlzLm9wdGlvbnMub2ZmKVxuXHRcdFx0LmFkZENsYXNzKHRoaXMuX29mZnN0eWxlICsgJyAnICsgc2l6ZSArICcgYWN0aXZlJylcblx0XHR2YXIgJHRvZ2dsZUhhbmRsZSA9ICQoJzxzcGFuIGNsYXNzPVwidG9nZ2xlLWhhbmRsZSBidG4gYnRuLWxpZ2h0XCI+Jylcblx0XHRcdC5hZGRDbGFzcyhzaXplKVxuXHRcdHZhciAkdG9nZ2xlR3JvdXAgPSAkKCc8ZGl2IGNsYXNzPVwidG9nZ2xlLWdyb3VwXCI+Jylcblx0XHRcdC5hcHBlbmQoJHRvZ2dsZU9uLCAkdG9nZ2xlT2ZmLCAkdG9nZ2xlSGFuZGxlKVxuXHRcdHZhciAkdG9nZ2xlID0gJCgnPGRpdiBjbGFzcz1cInRvZ2dsZSBidG5cIiBkYXRhLXRvZ2dsZT1cInRvZ2dsZVwiPicpXG5cdFx0XHQuYWRkQ2xhc3MoIHRoaXMuJGVsZW1lbnQucHJvcCgnY2hlY2tlZCcpID8gdGhpcy5fb25zdHlsZSA6IHRoaXMuX29mZnN0eWxlKycgb2ZmJyApXG5cdFx0XHQuYWRkQ2xhc3Moc2l6ZSkuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnN0eWxlKVxuXG5cdFx0dGhpcy4kZWxlbWVudC53cmFwKCR0b2dnbGUpXG5cdFx0JC5leHRlbmQodGhpcywge1xuXHRcdFx0JHRvZ2dsZTogdGhpcy4kZWxlbWVudC5wYXJlbnQoKSxcblx0XHRcdCR0b2dnbGVPbjogJHRvZ2dsZU9uLFxuXHRcdFx0JHRvZ2dsZU9mZjogJHRvZ2dsZU9mZixcblx0XHRcdCR0b2dnbGVHcm91cDogJHRvZ2dsZUdyb3VwXG5cdFx0fSlcblx0XHR0aGlzLiR0b2dnbGUuYXBwZW5kKCR0b2dnbGVHcm91cClcblxuXHRcdHZhciB3aWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aCB8fCBNYXRoLm1heCgkdG9nZ2xlT24ub3V0ZXJXaWR0aCgpLCAkdG9nZ2xlT2ZmLm91dGVyV2lkdGgoKSkrKCR0b2dnbGVIYW5kbGUub3V0ZXJXaWR0aCgpLzIpXG5cdFx0dmFyIGhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQgfHwgTWF0aC5tYXgoJHRvZ2dsZU9uLm91dGVySGVpZ2h0KCksICR0b2dnbGVPZmYub3V0ZXJIZWlnaHQoKSlcblx0XHQkdG9nZ2xlT24uYWRkQ2xhc3MoJ3RvZ2dsZS1vbicpXG5cdFx0JHRvZ2dsZU9mZi5hZGRDbGFzcygndG9nZ2xlLW9mZicpXG5cdFx0dGhpcy4kdG9nZ2xlLmNzcyh7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSlcblx0XHRpZiAodGhpcy5vcHRpb25zLmhlaWdodCkge1xuXHRcdFx0JHRvZ2dsZU9uLmNzcygnbGluZS1oZWlnaHQnLCAkdG9nZ2xlT24uaGVpZ2h0KCkgKyAncHgnKVxuXHRcdFx0JHRvZ2dsZU9mZi5jc3MoJ2xpbmUtaGVpZ2h0JywgJHRvZ2dsZU9mZi5oZWlnaHQoKSArICdweCcpXG5cdFx0fVxuXHRcdHRoaXMudXBkYXRlKHRydWUpXG5cdFx0dGhpcy50cmlnZ2VyKHRydWUpXG5cdH1cblxuXHRUb2dnbGUucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy4kZWxlbWVudC5wcm9wKCdjaGVja2VkJykpIHRoaXMub2ZmKClcblx0XHRlbHNlIHRoaXMub24oKVxuXHR9XG5cblx0VG9nZ2xlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChzaWxlbnQpIHtcblx0XHRpZiAodGhpcy4kZWxlbWVudC5wcm9wKCdkaXNhYmxlZCcpKSByZXR1cm4gZmFsc2Vcblx0XHR0aGlzLiR0b2dnbGUucmVtb3ZlQ2xhc3ModGhpcy5fb2Zmc3R5bGUgKyAnIG9mZicpLmFkZENsYXNzKHRoaXMuX29uc3R5bGUpXG5cdFx0dGhpcy4kZWxlbWVudC5wcm9wKCdjaGVja2VkJywgdHJ1ZSlcblx0XHRpZiAoIXNpbGVudCkgdGhpcy50cmlnZ2VyKClcblx0fVxuXG5cdFRvZ2dsZS5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKHNpbGVudCkge1xuXHRcdGlmICh0aGlzLiRlbGVtZW50LnByb3AoJ2Rpc2FibGVkJykpIHJldHVybiBmYWxzZVxuXHRcdHRoaXMuJHRvZ2dsZS5yZW1vdmVDbGFzcyh0aGlzLl9vbnN0eWxlKS5hZGRDbGFzcyh0aGlzLl9vZmZzdHlsZSArICcgb2ZmJylcblx0XHR0aGlzLiRlbGVtZW50LnByb3AoJ2NoZWNrZWQnLCBmYWxzZSlcblx0XHRpZiAoIXNpbGVudCkgdGhpcy50cmlnZ2VyKClcblx0fVxuXG5cdFRvZ2dsZS5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuJHRvZ2dsZS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpXG5cdFx0dGhpcy4kZWxlbWVudC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKVxuXHR9XG5cblx0VG9nZ2xlLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuJHRvZ2dsZS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpXG5cdFx0dGhpcy4kZWxlbWVudC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpXG5cdH1cblxuXHRUb2dnbGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChzaWxlbnQpIHtcblx0XHRpZiAodGhpcy4kZWxlbWVudC5wcm9wKCdkaXNhYmxlZCcpKSB0aGlzLmRpc2FibGUoKVxuXHRcdGVsc2UgdGhpcy5lbmFibGUoKVxuXHRcdGlmICh0aGlzLiRlbGVtZW50LnByb3AoJ2NoZWNrZWQnKSkgdGhpcy5vbihzaWxlbnQpXG5cdFx0ZWxzZSB0aGlzLm9mZihzaWxlbnQpXG5cdH1cblxuXHRUb2dnbGUucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAoc2lsZW50KSB7XG5cdFx0dGhpcy4kZWxlbWVudC5vZmYoJ2NoYW5nZS5icy50b2dnbGUnKVxuXHRcdGlmICghc2lsZW50KSB0aGlzLiRlbGVtZW50LmNoYW5nZSgpXG5cdFx0dGhpcy4kZWxlbWVudC5vbignY2hhbmdlLmJzLnRvZ2dsZScsICQucHJveHkoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZSgpXG5cdFx0fSwgdGhpcykpXG5cdH1cblxuXHRUb2dnbGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLiRlbGVtZW50Lm9mZignY2hhbmdlLmJzLnRvZ2dsZScpXG5cdFx0dGhpcy4kdG9nZ2xlR3JvdXAucmVtb3ZlKClcblx0XHR0aGlzLiRlbGVtZW50LnJlbW92ZURhdGEoJ2JzLnRvZ2dsZScpXG5cdFx0dGhpcy4kZWxlbWVudC51bndyYXAoKVxuXHR9XG5cblx0Ly8gVE9HR0xFIFBMVUdJTiBERUZJTklUSU9OXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cdGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciAkdGhpcyAgID0gJCh0aGlzKVxuXHRcdFx0dmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b2dnbGUnKVxuXHRcdFx0dmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG5cdFx0XHRpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRvZ2dsZScsIChkYXRhID0gbmV3IFRvZ2dsZSh0aGlzLCBvcHRpb25zKSkpXG5cdFx0XHRpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyAmJiBkYXRhW29wdGlvbl0pIGRhdGFbb3B0aW9uXSgpXG5cdFx0fSlcblx0fVxuXG5cdHZhciBvbGQgPSAkLmZuLmJvb3RzdHJhcFRvZ2dsZVxuXG5cdCQuZm4uYm9vdHN0cmFwVG9nZ2xlICAgICAgICAgICAgID0gUGx1Z2luXG5cdCQuZm4uYm9vdHN0cmFwVG9nZ2xlLkNvbnN0cnVjdG9yID0gVG9nZ2xlXG5cblx0Ly8gVE9HR0xFIE5PIENPTkZMSUNUXG5cdC8vID09PT09PT09PT09PT09PT09PVxuXG5cdCQuZm4udG9nZ2xlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0JC5mbi5ib290c3RyYXBUb2dnbGUgPSBvbGRcblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0Ly8gVE9HR0xFIERBVEEtQVBJXG5cdC8vID09PT09PT09PT09PT09PVxuXG5cdCQoZnVuY3Rpb24oKSB7XG5cdFx0JCgnaW5wdXRbdHlwZT1jaGVja2JveF1bZGF0YS10b2dnbGVePXRvZ2dsZV0nKS5ib290c3RyYXBUb2dnbGUoKVxuXHR9KVxuXG5cdCQoZG9jdW1lbnQpLm9uKCdjbGljay5icy50b2dnbGUnLCAnZGl2W2RhdGEtdG9nZ2xlXj10b2dnbGVdJywgZnVuY3Rpb24oZSkge1xuXHRcdHZhciAkY2hlY2tib3ggPSAkKHRoaXMpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJylcblx0XHQkY2hlY2tib3guYm9vdHN0cmFwVG9nZ2xlKCd0b2dnbGUnKVxuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHR9KVxuXG59KGpRdWVyeSk7XG4iXX0=